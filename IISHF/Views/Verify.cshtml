@using Umbraco.Cms.Web.Common.PublishedModels;
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<ContentModels.Verify>
@using ContentModels = Umbraco.Cms.Web.Common.PublishedModels;
@{
    Layout = "Main.cshtml";
}

@*@await Html.PartialAsync("~/Views/Partials/Members/Verify.cshtml", new VerificationViewModel())*@

@{
    var modelContent = Umbraco.ContentAtRoot().ToList();
    var registerContent = modelContent
        .FirstOrDefault(x => x.Name == "Home")!.Children()?
        .FirstOrDefault(x => x.Name == "Verify");


    var heroImageObj = registerContent.Value<IPublishedContent>("heroImage");
    var heroImage = heroImageObj != null ? heroImageObj.Url() : "";
}

<div class="jumbotron jumbotron-fluid hero hero-large" style="background-image: url('@heroImage')">
    <div class="overlay"></div>
    <div class="inner">
        <div class="container custom-container">
            <h1 class="display-4">@registerContent.Value("heroTitle")</h1>
            <p class="lead">@registerContent.Value("heroSubtitle")</p>
        </div>
    </div>
</div>

@{
    if ((string)TempData["status"]! == "Ok")
    {

    }
    else
    {
        <div class="container">
            <div class="row">
                <div class="col-12 col-sm-12 col-md-12 col-lg-12 mt-5">
                    <h1>Something went wrong</h1>
                    @{
                        var errors = ViewData.ModelState.Where(n => n.Value.Errors.Count > 0).ToList();
                        
                        <div class="alert alert-danger" role="alert">
                            @foreach (var error in errors)
                            {
                                <h4>@error.Value.Errors.FirstOrDefault().ErrorMessage</h4>
                            }
                        </div>
                    }

                </div>
            </div>
        </div>
    }

}